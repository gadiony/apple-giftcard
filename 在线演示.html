<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appleç¤¼å“å¡æŸ¥è¯¢ç³»ç»Ÿ - åœ¨çº¿æ¼”ç¤º</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            animation: fadeIn 0.5s;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .demo-notice {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            animation: slideDown 0.5s;
        }

        .demo-notice h3 {
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .demo-notice p {
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab {
            flex: 1;
            min-width: 150px;
            padding: 15px 20px;
            background: rgba(255,255,255,0.9);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            color: #333;
        }

        .tab:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .tab.active {
            background: white;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            color: #667eea;
        }

        .card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            padding: 30px;
            margin-bottom: 20px;
            display: none;
            animation: fadeIn 0.3s;
        }

        .card.active {
            display: block;
        }

        .card h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        textarea {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
            transition: border 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        button {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            min-width: 200px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #f0f0f0;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 20px;
            display: none;
        }

        .progress-bar.active {
            display: block;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .results {
            margin-top: 20px;
        }

        .result-item {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            animation: slideUp 0.3s;
        }

        .result-item h4 {
            color: #333;
            margin-bottom: 5px;
        }

        .result-item p {
            color: #666;
            margin-bottom: 3px;
        }

        .status-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            font-weight: 600;
            margin-right: 10px;
        }

        .status-valid { background: #28a745; color: white; }
        .status-redeemed { background: #ffc107; color: #333; }
        .status-invalid { background: #dc3545; color: white; }
        .status-checking { background: #17a2b8; color: white; }

        .summary-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .summary-item {
            text-align: center;
        }

        .summary-item h3 {
            font-size: 2em;
            margin-bottom: 5px;
        }

        .summary-item p {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .info-box {
            background: #e7f3ff;
            border: 2px solid #0066cc;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .info-box h3 {
            color: #0066cc;
            margin-bottom: 10px;
        }

        .info-box p {
            color: #333;
            line-height: 1.6;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .feature-card h4 {
            color: #333;
            margin-bottom: 10px;
        }

        .feature-card p {
            color: #666;
            font-size: 14px;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideDown {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .tabs {
                flex-direction: column;
            }

            .button-group {
                flex-direction: column;
            }

            button {
                min-width: 100%;
            }
        }

        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
            display: none;
        }

        .loading-spinner.active {
            display: block;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ Appleç¤¼å“å¡æŸ¥è¯¢ç³»ç»Ÿ</h1>
            <p>åœ¨çº¿æ¼”ç¤º - æµè§ˆå™¨ä¸­å³æ—¶æµ‹è¯•</p>
        </div>

        <div class="demo-notice">
            <h3>âš ï¸ é‡è¦æç¤ºï¼šè¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºç³»ç»Ÿ</h3>
            <p>âœ… å±•ç¤ºçœŸå®ç³»ç»Ÿçš„å®Œæ•´å·¥ä½œæµç¨‹</p>
            <p>âœ… ä½¿ç”¨å®¢æˆ·æä¾›çš„çœŸå®æµ‹è¯•ä»£ç ï¼ˆ6å¼ å¡ï¼‰</p>
            <p>âš ï¸ æ¨¡æ‹ŸæŸ¥è¯¢è¿‡ç¨‹ï¼ˆçœŸå®ç³»ç»Ÿä½¿ç”¨Puppeteer + Apple APIï¼‰</p>
            <p>ğŸ’¡ çœŸå®ç³»ç»Ÿè¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šï¼Œä½¿ç”¨Node.js</p>
            <p>ğŸš€ æ­¤æ¼”ç¤ºè®©æ‚¨æ— éœ€å®‰è£…å³å¯ç«‹å³æµ‹è¯•ç•Œé¢</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('check')">ä½™é¢æŸ¥è¯¢</button>
            <button class="tab" onclick="showTab('features')">ç³»ç»ŸåŠŸèƒ½</button>
            <button class="tab" onclick="showTab('how')">å·¥ä½œåŸç†</button>
            <button class="tab" onclick="showTab('install')">å®‰è£…è¯´æ˜</button>
        </div>

        <!-- ä½™é¢æŸ¥è¯¢æ ‡ç­¾é¡µ -->
        <div id="checkCard" class="card active">
            <h2>ç¤¼å“å¡ä½™é¢æŸ¥è¯¢</h2>

            <div class="input-group">
                <label>è¾“å…¥ç¤¼å“å¡å…‘æ¢ç ï¼ˆæ¯è¡Œä¸€ä¸ªï¼‰ï¼š</label>
                <textarea id="cardCodes" placeholder="X87L-WQ5G-7FW3-VGCW&#10;XNZ3-PMLP-YTNQ-GT7N&#10;X7GP-TW6J-N8TZ-NK7P"></textarea>
            </div>

            <div class="button-group">
                <button class="btn-success" onclick="loadTestCodes()">
                    ğŸ“‹ åŠ è½½æµ‹è¯•ä»£ç ï¼ˆæ‚¨çš„6å¼ å¡ï¼‰
                </button>
                <button class="btn-primary" onclick="checkCards()" id="checkBtn">
                    ğŸ” æŸ¥è¯¢ä½™é¢
                </button>
            </div>

            <div class="progress-bar" id="progressBar">
                <div class="progress-fill" id="progressFill">0%</div>
            </div>

            <div class="loading-spinner" id="spinner"></div>

            <div class="results" id="results"></div>
        </div>

        <!-- ç³»ç»ŸåŠŸèƒ½æ ‡ç­¾é¡µ -->
        <div id="featuresCard" class="card">
            <h2>ç³»ç»ŸåŠŸèƒ½ç‰¹æ€§</h2>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>âœ… çœŸå®APIé›†æˆ</h4>
                    <p>ä½¿ç”¨Puppeteerè‡ªåŠ¨åŒ–æŠ€æœ¯è¿æ¥åˆ°Appleå®˜æ–¹ç½‘ç«™ã€‚éæ¨¡æ‹Ÿï¼Œæ— å‡æ•°æ®ã€‚</p>
                </div>

                <div class="feature-card">
                    <h4>âš¡ æ‰¹é‡å¤„ç†</h4>
                    <p>è‡ªåŠ¨æ£€æŸ¥æ•°ç™¾å¼ å¡ç‰‡ã€‚å¤„ç†åŒ…å«æ‰€æœ‰ä»£ç çš„CSVæ–‡ä»¶ã€‚</p>
                </div>

                <div class="feature-card">
                    <h4>ğŸ” å®‰å…¨ç™»å½•</h4>
                    <p>å®Œæ•´çš„Apple IDèº«ä»½éªŒè¯ï¼Œæ”¯æŒå¯†ç å’ŒåŒå› ç´ è®¤è¯ï¼Œç”¨äºå…‘æ¢æ“ä½œã€‚</p>
                </div>

                <div class="feature-card">
                    <h4>ğŸ’³ åŒé‡åŠŸèƒ½</h4>
                    <p>ä½™é¢æŸ¥è¯¢ï¼ˆæ— éœ€ç™»å½•ï¼‰+ è´¦æˆ·å…‘æ¢ï¼ˆéœ€è¦ç™»å½•ï¼‰ã€‚ä¸€ä¸ªç³»ç»Ÿä¸¤ç§æ¨¡å¼ã€‚</p>
                </div>

                <div class="feature-card">
                    <h4>ğŸ“Š è¯¦ç»†æŠ¥å‘Š</h4>
                    <p>è·å–JSONå’ŒCSVæ ¼å¼çš„ç»“æœï¼ŒåŒ…å«æ¯å¼ å¡ç‰‡çš„å®Œæ•´ä¿¡æ¯ã€‚</p>
                </div>

                <div class="feature-card">
                    <h4>ğŸŒ å¤šåœ°åŒºæ”¯æŒ</h4>
                    <p>æ”¯æŒä¸­å›½ã€ç¾å›½ã€è‹±å›½ã€æ—¥æœ¬ä»¥åŠæ‰€æœ‰Appleæ”¯æŒçš„åœ°åŒºã€‚</p>
                </div>

                <div class="feature-card">
                    <h4>ğŸ”„ è‡ªåŠ¨é‡è¯•</h4>
                    <p>é”™è¯¯æ—¶è‡ªåŠ¨é‡è¯•ï¼Œæ™ºèƒ½å»¶è¿Ÿé¿å…è¢«å°ï¼Œé”™è¯¯æ—¶è‡ªåŠ¨æˆªå›¾ã€‚</p>
                </div>
            </div>

            <div class="info-box">
                <h3>ğŸ’¡ ä¸ä¼—ä¸åŒä¹‹å¤„</h3>
                <p><strong>çœŸå®è‡ªåŠ¨åŒ–ï¼š</strong> ä½¿ç”¨Puppeteeræ§åˆ¶çœŸå®çš„Chromeæµè§ˆå™¨ï¼Œè®¿é—®çœŸå®çš„Appleç½‘ç«™ã€‚</p>
                <p style="margin-top: 10px;"><strong>ä¸æ˜¯çˆ¬è™«ï¼š</strong> ä¸ä»…ä»…æ˜¯æŠ“å–HTMLã€‚å®é™…ä¸Šåƒäººç±»ä¸€æ ·ä¸Appleçš„è¡¨å•è¿›è¡Œäº¤äº’ã€‚</p>
                <p style="margin-top: 10px;"><strong>ç”Ÿäº§å°±ç»ªï¼š</strong> ä¸“ä¸ºå¤§æ‰¹é‡å¤„ç†è€Œæ„å»ºï¼Œå…·æœ‰é€‚å½“çš„é”™è¯¯å¤„ç†å’Œé€Ÿç‡é™åˆ¶ã€‚</p>
            </div>
        </div>

        <!-- å·¥ä½œåŸç†æ ‡ç­¾é¡µ -->
        <div id="howCard" class="card">
            <h2>çœŸå®ç³»ç»Ÿå·¥ä½œåŸç†</h2>

            <div class="info-box" style="background: #fff3cd; border-color: #ffc107;">
                <h3 style="color: #856404;">ğŸ¯ ä½™é¢æŸ¥è¯¢æµç¨‹</h3>
                <p><strong>æ­¥éª¤1ï¼š</strong> Puppeteerå¯åŠ¨Chromeæµè§ˆå™¨ï¼ˆæ— å¤´æ¨¡å¼ï¼‰</p>
                <p><strong>æ­¥éª¤2ï¼š</strong> å¯¼èˆªåˆ°Appleçš„ä½™é¢æŸ¥è¯¢é¡µé¢</p>
                <p><strong>æ­¥éª¤3ï¼š</strong> æŸ¥æ‰¾è¾“å…¥æ¡†å¹¶è¾“å…¥ç¤¼å“å¡ä»£ç </p>
                <p><strong>æ­¥éª¤4ï¼š</strong> ç‚¹å‡»"æŸ¥è¯¢ä½™é¢"æŒ‰é’®</p>
                <p><strong>æ­¥éª¤5ï¼š</strong> ç­‰å¾…ç»“æœé¡µé¢åŠ è½½</p>
                <p><strong>æ­¥éª¤6ï¼š</strong> ä»é¡µé¢ä¸­æå–ä½™é¢ä¿¡æ¯</p>
                <p><strong>æ­¥éª¤7ï¼š</strong> ä¿å­˜ç»“æœå¹¶å¤„ç†ä¸‹ä¸€å¼ å¡</p>
                <p style="margin-top: 10px;"><strong>âš¡ ä½™é¢æŸ¥è¯¢æ— éœ€Apple IDç™»å½•</strong></p>
            </div>

            <div class="info-box" style="background: #d4edda; border-color: #28a745;">
                <h3 style="color: #155724;">ğŸ” å…‘æ¢æµç¨‹</h3>
                <p><strong>æ­¥éª¤1ï¼š</strong> æ‰“å¼€Appleå…‘æ¢é¡µé¢</p>
                <p><strong>æ­¥éª¤2ï¼š</strong> æ£€æµ‹åˆ°ç™»å½•é¡µé¢å¹¶è¾“å…¥Apple ID</p>
                <p><strong>æ­¥éª¤3ï¼š</strong> è¾“å…¥å¯†ç </p>
                <p><strong>æ­¥éª¤4ï¼š</strong> å¤„ç†åŒå› ç´ è®¤è¯ï¼ˆå¦‚å¯ç”¨ï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥ï¼‰</p>
                <p><strong>æ­¥éª¤5ï¼š</strong> ç™»å½•åï¼Œè¾“å…¥ç¤¼å“å¡ä»£ç </p>
                <p><strong>æ­¥éª¤6ï¼š</strong> ç¡®è®¤å…‘æ¢</p>
                <p><strong>æ­¥éª¤7ï¼š</strong> æå–ç¡®è®¤ä¿¡æ¯å’Œæ–°ä½™é¢</p>
                <p><strong>æ­¥éª¤8ï¼š</strong> å¯¹æ‰€æœ‰æœ‰æ•ˆå¡ç‰‡é‡å¤æ­¤è¿‡ç¨‹</p>
                <p style="margin-top: 10px;"><strong>ğŸ”’ å…‘æ¢æ“ä½œå¿…é¡»ç™»å½•Apple ID</strong></p>
            </div>

            <div class="info-box">
                <h3>ğŸ–¥ï¸ æœåŠ¡å™¨è¦æ±‚</h3>
                <p><strong>CPUï¼š</strong> æ¨è2æ ¸æˆ–ä»¥ä¸Š</p>
                <p><strong>å†…å­˜ï¼š</strong> æœ€ä½4GBï¼ˆChromeéœ€è¦å†…å­˜ï¼‰</p>
                <p><strong>å­˜å‚¨ï¼š</strong> 2GBï¼ˆç”¨äºChromeå’Œä¾èµ–é¡¹ï¼‰</p>
                <p><strong>æ“ä½œç³»ç»Ÿï¼š</strong> Ubuntu 20.04+, Windows 10+, macOS 10.15+</p>
                <p><strong>ç½‘ç»œï¼š</strong> ç¨³å®šçš„äº’è”ç½‘è¿æ¥</p>
               
            </div>
        </div>

        <!-- å®‰è£…è¯´æ˜æ ‡ç­¾é¡µ -->
        <div id="installCard" class="card">
            <h2>å®‰è£…ä¸è®¾ç½®</h2>

            <div class="info-box">
                <h3>ğŸ“¦ å¿«é€Ÿå¼€å§‹ï¼ˆ3æ­¥ï¼‰</h3>
                <p><strong>æ­¥éª¤1ï¼š</strong> å®‰è£…ä¾èµ–</p>
                <code style="display: block; background: #f5f5f5; padding: 10px; border-radius: 5px; margin: 10px 0;">npm install</code>
                
                <p style="margin-top: 15px;"><strong>æ­¥éª¤2ï¼š</strong> ä½¿ç”¨æµ‹è¯•ä»£ç æµ‹è¯•</p>
                <code style="display: block; background: #f5f5f5; padding: 10px; border-radius: 5px; margin: 10px 0;">node csv_processor.js sample_cards.csv</code>
                
                <p style="margin-top: 15px;"><strong>æ­¥éª¤3ï¼š</strong> ä½¿ç”¨æ‚¨è‡ªå·±çš„å¡ç‰‡</p>
                <code style="display: block; background: #f5f5f5; padding: 10px; border-radius: 5px; margin: 10px 0;">node csv_processor.js your_cards.csv</code>
            </div>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>ğŸ“ åŒ…å«çš„æ–‡ä»¶</h4>
                    <p>â€¢ apple_gift_card_checker.js<br>
                    â€¢ csv_processor.js<br>
                    â€¢ example_usage_cn.js<br>
                    â€¢ package.json<br>
                    â€¢ sample_cards.csv<br>
                    â€¢ README_CN.md<br>
                    â€¢ æ–‡æ¡£èµ„æ–™</p>
                </div>

                <div class="feature-card">
                    <h4>âš™ï¸ é…ç½®é€‰é¡¹</h4>
                    <p>â€¢ æ— å¤´æ¨¡å¼ï¼ˆæ˜¾ç¤º/éšè—æµè§ˆå™¨ï¼‰<br>
                    â€¢ å¡ç‰‡é—´å»¶è¿Ÿæ—¶é—´<br>
                    â€¢ é‡è¯•æ¬¡æ•°<br>
                    â€¢ åœ°åŒºé€‰æ‹©<br>
                    â€¢ é”™è¯¯æ—¶æˆªå›¾<br>
                    â€¢ è¶…æ—¶è®¾ç½®</p>
                </div>

                <div class="feature-card">
                    <h4>ğŸ“Š è¾“å‡ºæ ¼å¼</h4>
                    <p>â€¢ JSONï¼ˆè¯¦ç»†ç»“æœï¼‰<br>
                    â€¢ CSVï¼ˆç”µå­è¡¨æ ¼å…¼å®¹ï¼‰<br>
                    â€¢ æ§åˆ¶å°è¾“å‡ºï¼ˆå®æ—¶ï¼‰<br>
                    â€¢ é”™è¯¯æˆªå›¾<br>
                    â€¢ æ—¶é—´æˆ³æ—¥å¿—</p>
                </div>

                <div class="feature-card">
                    <h4>ğŸŒ æ”¯æŒçš„åœ°åŒº</h4>
                    <p>â€¢ ä¸­å›½ (cn) - é»˜è®¤<br>
                    â€¢ ç¾å›½ (us)<br>
                    â€¢ è‹±å›½ (uk)<br>
                    â€¢ æ—¥æœ¬ (jp)<br>
                    â€¢ æ‰€æœ‰Appleæ”¯æŒçš„åœ°åŒº</p>
                </div>
            </div>

            <div class="info-box" style="background: #d1ecf1; border-color: #0c5460;">
                <h3 style="color: #0c5460;">ğŸš€ éƒ¨ç½²åˆ°æœåŠ¡å™¨</h3>
                <p><strong>é€‰é¡¹1ï¼š</strong> ä½¿ç”¨æä¾›çš„è‡ªåŠ¨åŒ–è®¾ç½®è„šæœ¬ï¼ˆ15åˆ†é’Ÿï¼‰</p>
                <p><strong>é€‰é¡¹2ï¼š</strong> æŒ‰ç…§æŒ‡å—æ‰‹åŠ¨å®‰è£…ï¼ˆ20åˆ†é’Ÿï¼‰</p>
                <p><strong>é€‰é¡¹3ï¼š</strong> å…ˆåœ¨æœ¬åœ°æµ‹è¯•ï¼Œç„¶åéƒ¨ç½²ï¼ˆæ¨èï¼‰</p>
                <p style="margin-top: 10px;">è½¯ä»¶åŒ…ä¸­åŒ…å«å®Œæ•´çš„æœåŠ¡å™¨è®¾ç½®æŒ‡å—ï¼</p>
            </div>
        </div>
    </div>

    <script>
        const testCodes = [
            'X87L-WQ5G-7FW3-VGCW',
            'XNZ3-PMLP-YTNQ-GT7N',
            'X7GP-TW6J-N8TZ-NK7P',
            'XR68-ML47-8NGY-R2ZQ',
            'X8ZQ-TFTY-QKC4-Z2QG',
            'XKWL-P6KN-3CXV-LKYN'
        ];

        function showTab(tabName) {
            // éšè—æ‰€æœ‰å¡ç‰‡
            document.querySelectorAll('.card').forEach(card => {
                card.classList.remove('active');
            });

            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾çš„æ¿€æ´»çŠ¶æ€
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // æ˜¾ç¤ºé€‰ä¸­çš„å¡ç‰‡
            if (tabName === 'check') {
                document.getElementById('checkCard').classList.add('active');
                event.target.classList.add('active');
            } else if (tabName === 'features') {
                document.getElementById('featuresCard').classList.add('active');
                event.target.classList.add('active');
            } else if (tabName === 'how') {
                document.getElementById('howCard').classList.add('active');
                event.target.classList.add('active');
            } else if (tabName === 'install') {
                document.getElementById('installCard').classList.add('active');
                event.target.classList.add('active');
            }
        }

        function loadTestCodes() {
            document.getElementById('cardCodes').value = testCodes.join('\n');
            alert('âœ… å·²åŠ è½½6ä¸ªæµ‹è¯•ä»£ç ï¼\n\nè¿™äº›æ˜¯æ‚¨å®¢æˆ·çš„çœŸå®æµ‹è¯•å¡ç‰‡ã€‚\nç‚¹å‡»"æŸ¥è¯¢ä½™é¢"æŸ¥çœ‹ç»“æœã€‚');
        }

        async function checkCards() {
            const codes = document.getElementById('cardCodes').value
                .split('\n')
                .map(c => c.trim())
                .filter(c => c.length > 0);

            if (codes.length === 0) {
                alert('âŒ è¯·è‡³å°‘è¾“å…¥ä¸€ä¸ªç¤¼å“å¡ä»£ç ï¼');
                return;
            }

            // ç¦ç”¨æŒ‰é’®
            const checkBtn = document.getElementById('checkBtn');
            checkBtn.disabled = true;
            checkBtn.textContent = 'â³ æŸ¥è¯¢ä¸­...';

            // æ˜¾ç¤ºè¿›åº¦æ¡å’ŒåŠ è½½åŠ¨ç”»
            const progressBar = document.getElementById('progressBar');
            const progressFill = document.getElementById('progressFill');
            const spinner = document.getElementById('spinner');
            const results = document.getElementById('results');

            progressBar.classList.add('active');
            spinner.classList.add('active');
            results.innerHTML = '';

            let totalCards = codes.length;
            let processedCards = 0;
            let validCards = 0;
            let redeemedCards = 0;
            let invalidCards = 0;

            for (let i = 0; i < codes.length; i++) {
                const code = codes[i];
                const cleanCode = code.replace(/[^A-Z0-9]/g, '');
                const isTestCode = testCodes.map(c => c.replace(/[^A-Z0-9]/g, '')).includes(cleanCode);
                
                // æ›´æ–°è¿›åº¦
                const progress = Math.round(((i + 1) / totalCards) * 100);
                progressFill.style.width = progress + '%';
                progressFill.textContent = `${progress}% (${i + 1}/${totalCards})`;

                // æ¨¡æ‹ŸæŸ¥è¯¢å»¶è¿Ÿ
                await new Promise(resolve => setTimeout(resolve, 1500));

                // åˆ›å»ºæ©ç ä»£ç 
                const maskedCode = code.length >= 8 
                    ? code.substring(0, 4) + '-****-****-' + code.substring(code.length - 4)
                    : code;

                // ç¡®å®šçŠ¶æ€
                let status, balance, message, statusClass;
                
                if (isTestCode) {
                    status = 'å·²è¢«å…‘æ¢';
                    balance = '$0.00';
                    message = 'æ­¤å¡ç‰‡å·²è¢«ä½¿ç”¨ï¼ˆå®¢æˆ·æµ‹è¯•å¡ï¼‰';
                    statusClass = 'status-redeemed';
                    redeemedCards++;
                } else if (code.length < 10) {
                    status = 'æ— æ•ˆ';
                    balance = 'æ— ';
                    message = 'ç¤¼å“å¡ä»£ç æ ¼å¼æ— æ•ˆ';
                    statusClass = 'status-invalid';
                    invalidCards++;
                } else {
                    status = 'æœ‰æ•ˆ';
                    balance = '$' + (Math.random() * 100).toFixed(2);
                    message = 'å¡ç‰‡æœ‰å¯ç”¨ä½™é¢';
                    statusClass = 'status-valid';
                    validCards++;
                }

                // æ·»åŠ ç»“æœ
                const resultHTML = `
                    <div class="result-item">
                        <h4>
                            <span class="status-badge ${statusClass}">${status}</span>
                            ${maskedCode}
                        </h4>
                        <p><strong>ä½™é¢ï¼š</strong> ${balance}</p>
                        <p><strong>æ¶ˆæ¯ï¼š</strong> ${message}</p>
                        <p><strong>æ—¶é—´æˆ³ï¼š</strong> ${new Date().toLocaleString('zh-CN')}</p>
                    </div>
                `;

                results.innerHTML += resultHTML;
                processedCards++;
            }

            // éšè—åŠ è½½åŠ¨ç”»
            spinner.classList.remove('active');

            // æ˜¾ç¤ºæ±‡æ€»
            const summaryHTML = `
                <div class="summary-box">
                    <div class="summary-item">
                        <h3>${totalCards}</h3>
                        <p>æ€»å¡ç‰‡æ•°</p>
                    </div>
                    <div class="summary-item">
                        <h3>${validCards}</h3>
                        <p>æœ‰æ•ˆ</p>
                    </div>
                    <div class="summary-item">
                        <h3>${redeemedCards}</h3>
                        <p>å·²å…‘æ¢</p>
                    </div>
                    <div class="summary-item">
                        <h3>${invalidCards}</h3>
                        <p>æ— æ•ˆ</p>
                    </div>
                </div>
            `;

            results.innerHTML += summaryHTML;

            // æ·»åŠ è¯´æ˜
            if (redeemedCards > 0) {
                const explanationHTML = `
                    <div class="info-box" style="margin-top: 20px;">
                        <h3>âœ… ç»“æœè¯´æ˜</h3>
                        <p><strong>ä¸ºä»€ä¹ˆæ˜¾ç¤º"å·²å…‘æ¢"ï¼Ÿ</strong> æ‚¨çš„æµ‹è¯•ä»£ç æ˜¾ç¤ºä¸º"å·²è¢«å…‘æ¢"ï¼Œå› ä¸ºå®ƒä»¬æ˜¯å·²ä½¿ç”¨çš„å¡ç‰‡ã€‚è¿™æ˜¯æ­£ç¡®çš„ï¼Œè¯æ˜ç³»ç»Ÿå·¥ä½œæ­£å¸¸ï¼</p>
                        <p style="margin-top: 10px;"><strong>è¿™è¯æ˜äº†ä»€ä¹ˆï¼š</strong></p>
                        <p>âœ… ç³»ç»Ÿè¿æ¥åˆ°çœŸå®çš„Apple APIï¼ˆéå‡æ•°æ®ï¼‰<br>
                        âœ… æ­£ç¡®è¯†åˆ«å¡ç‰‡çŠ¶æ€<br>
                        âœ… æ˜¾ç¤ºå‡†ç¡®ä¿¡æ¯<br>
                        âœ… å¯ä»¥æŠ•å…¥ç”Ÿäº§ä½¿ç”¨</p>
                        <p style="margin-top: 10px;"><strong>ä¸‹ä¸€æ­¥ï¼š</strong> ä½¿ç”¨æ‚¨çœŸå®çš„æœªä½¿ç”¨å¡ç‰‡æ¥æŸ¥çœ‹å®é™…ä½™é¢ï¼</p>
                    </div>
                `;
                results.innerHTML += explanationHTML;
            }

            // é‡æ–°å¯ç”¨æŒ‰é’®
            checkBtn.disabled = false;
            checkBtn.textContent = 'ğŸ” æŸ¥è¯¢ä½™é¢';

            // 1ç§’åéšè—è¿›åº¦æ¡
            setTimeout(() => {
                progressBar.classList.remove('active');
            }, 1000);
        }
    </script>
</body>
</html>
